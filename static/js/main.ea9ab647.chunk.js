(this.webpackJsonpassign3b=this.webpackJsonpassign3b||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),r=c(13),s=c.n(r),a=(c(21),c(6)),o=(c(22),c(2)),j=c(14),b=c(5),d=c(1),u=function(e){return Object(d.jsx)("li",{children:Object(d.jsxs)(b.b,{to:"/item/".concat(e.item.id),children:[e.item.id," ",e.item.name]})})},l=function(e){var t=Object(n.createRef)();return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Search items by name or id"}),Object(d.jsx)("input",{type:"text",name:"search",ref:t}),Object(d.jsx)("button",{onClick:function(){"undefined"===typeof t?alert("No search parameters given"):e.search(t.current.value)},children:"Search"}),Object(d.jsx)("button",{onClick:e.reset,children:"Reset"}),Object(d.jsx)(b.b,{to:"/addItem",children:Object(d.jsx)("button",{children:"Add new Item"})}),Object(d.jsx)("ul",{children:e.items.map((function(e){return Object(d.jsx)(u,{item:e},e.id)}))})]})},h=function(){var e=Object(o.g)().id,t=Object(n.useState)({}),c=Object(a.a)(t,2),i=c[0],r=c[1],s=Object(n.useState)(!0),j=Object(a.a)(s,2),u=j[0],l=j[1];return Object(n.useEffect)((function(){var t="https://comp3504api.herokuapp.com/api/items/".concat(e);fetch(t).then((function(e){if(e.ok)return e.json();throw new Error("Fetch failed")})).then((function(e){r(e),l(!1),console.log(e)})).catch((function(e){console.error(e)}))}),[i]),u?Object(d.jsx)("p",{children:"Fetching data, PLease wait"}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Detailed View"}),Object(d.jsxs)("h3",{children:[i[0].id,": ",i[0].name]}),Object(d.jsxs)("p",{children:["Price: ",i[0].price]}),Object(d.jsxs)("p",{children:["# in Stock: ",i[0].qty]}),Object(d.jsx)(b.b,{to:"/",children:"Go Back"})]})},f=function(){var e=Object(n.createRef)(),t=Object(n.createRef)(),c=Object(n.createRef)(),i=Object(n.createRef)(),r=!1;return r?Object(d.jsx)(o.a,{to:"/"}):Object(d.jsxs)("form",{onSubmit:function(n){if(n.preventDefault(),"undefined"===typeof e)alert("name field cannot be blank");else if("undefined"===typeof t)alert("id field cannot be blank");else if("undefined"===typeof c)alert("price field cannot be blank");else if("undefined"===typeof i)alert("# in Stock field cannot be blank");else{var s="https://comp3504api.herokuapp.com/api/items/".concat(t.current.value,"/").concat(e.current.value,"/").concat(c.current.value,"/").concat(i.current.value);fetch(s,{method:"POST",mode:"no-cors"}).then((function(){r=!0})).catch((function(e){return console.error(e)}))}},children:[Object(d.jsx)("h2",{children:"Add new Item"}),Object(d.jsxs)("div",{children:["Item Name:",Object(d.jsx)("input",{type:"text",ref:e})]}),Object(d.jsxs)("div",{children:["Item ID:",Object(d.jsx)("input",{type:"number",ref:t})]}),Object(d.jsxs)("div",{children:["Item price:",Object(d.jsx)("input",{type:"text",ref:c})]}),Object(d.jsxs)("div",{children:["# in Stock:",Object(d.jsx)("input",{type:"number",ref:i})]}),Object(d.jsx)("button",{type:"submit",children:"Submit"}),Object(d.jsx)("button",{children:Object(d.jsx)(b.b,{to:"/",children:"Go Back"})})]})};var O=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)([]),s=Object(a.a)(r,2),b=s[0],u=s[1];return Object(n.useEffect)((function(){if(0===c.length){fetch("https://comp3504api.herokuapp.com/api/items").then((function(e){if(e.ok)return e.json();throw new Error("Fetch Failed")})).then((function(e){i(e),u(e)}))}})),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(o.b,{path:"/",exact:!0,children:Object(d.jsx)(l,{items:b,reset:function(){u(c)},search:function(e){var t=Object(j.cloneDeep)(c).filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())||t.id===e}));0===t.length?alert("No items with name or id "+e):u(t)}})}),Object(d.jsx)(o.b,{path:"/addItem",exact:!0,children:Object(d.jsx)(f,{})}),Object(d.jsx)(o.d,{children:Object(d.jsx)(o.b,{path:"/item/:id",children:Object(d.jsx)(h,{})})})]})},p=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,33)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),i(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(b.a,{children:Object(d.jsx)(O,{})})}),document.getElementById("root")),p()}},[[32,1,2]]]);
//# sourceMappingURL=main.ea9ab647.chunk.js.map